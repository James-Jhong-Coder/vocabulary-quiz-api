## table 規劃

user: 使用者

```sql
CREATE TABLE users (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT '使用者 ID',
    username VARCHAR(255) NOT NULL UNIQUE COMMENT '登入帳號',
    password_hash VARCHAR(255) NOT NULL COMMENT '加密後密碼',
    nickname VARCHAR(100) NOT NULL COMMENT '使用者暱稱',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '建立時間',
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新時間'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

card: 字卡

```sql
CREATE TABLE cards (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    front VARCHAR(255) NOT NULL COMMENT '字卡正面內容',
    back VARCHAR(255) NOT NULL COMMENT '字卡背面內容',
    pronunciation VARCHAR(255) DEFAULT NULL COMMENT '發音',
    part_of_speech VARCHAR(50) DEFAULT NULL COMMENT '詞性',
    example_sentence TEXT DEFAULT NULL COMMENT '例句',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

deck: 字卡集

```sql
CREATE TABLE decks (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL COMMENT '所屬使用者',
    name VARCHAR(100) NOT NULL COMMENT '字卡集名稱',
    description TEXT DEFAULT NULL COMMENT '描述',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CONSTRAINT fk_decks_user FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

deck_cards（多對多關聯）

```sql
CREATE TABLE deck_cards (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    deck_id BIGINT UNSIGNED NOT NULL,
    card_id BIGINT UNSIGNED NOT NULL,
    added_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    UNIQUE KEY uq_deck_card (deck_id, card_id),
    CONSTRAINT fk_dc_deck FOREIGN KEY (deck_id) REFERENCES decks(id) ON DELETE CASCADE,
    CONSTRAINT fk_dc_card FOREIGN KEY (card_id) REFERENCES cards(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```
